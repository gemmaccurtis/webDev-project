{"ast":null,"code":"var _jsxFileName = \"/Users/gemma_curtis/Documents/UNI/contemp-web-app-solutions/src/Views/Dash.js\";\nimport React, { useEffect, useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport DaysCompleted from \"../Components/DaysCompleted\";\nimport Product from \"../Components/Product\";\nimport avatarPlaceHolder from \"../assets/avatar_placeholder.png\";\nimport * as dayjs from 'dayjs';\n\nfunction Dash(props) {\n  const {\n    user,\n    readProducts,\n    readChallenges,\n    createComment,\n    readComments\n  } = props;\n  const [allProducts, setAllProducts] = useState([]);\n\n  const handleComment = async (productId, comment) => {\n    await createComment(productId, comment);\n  };\n\n  useEffect(() => {\n    const getAllProducts = async () => {\n      const aProducts = await readProducts();\n      let products = [];\n      aProducts.forEach(c => products.push({ ...c.data(),\n        ...{\n          id: c.id\n        }\n      }));\n      setAllProducts(products);\n    };\n  }, []);\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }, allProducts.map(c => React.createElement(Product, {\n    onComment: handleComment,\n    userProfilePicture: user.photoURL || avatarPlaceHolder,\n    user: user,\n    checkin: c,\n    readComments: readComments,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  })));\n}\n\nDash.propTypes = {\n  checkins: PropTypes.array.isRequired,\n  readProducts: PropTypes.object.isRequired\n};\nexport default Dash;","map":{"version":3,"sources":["/Users/gemma_curtis/Documents/UNI/contemp-web-app-solutions/src/Views/Dash.js"],"names":["React","useEffect","useState","PropTypes","DaysCompleted","Product","avatarPlaceHolder","dayjs","Dash","props","user","readProducts","readChallenges","createComment","readComments","allProducts","setAllProducts","handleComment","productId","comment","getAllProducts","aProducts","products","forEach","c","push","data","id","map","photoURL","propTypes","checkins","array","isRequired","object"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,QAA1B,QAAyC,OAAzC;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,aAAP,MAA0B,6BAA1B;AACA,OAAOC,OAAP,MAAoB,uBAApB;AACA,OAAOC,iBAAP,MAA8B,kCAA9B;AACA,OAAO,KAAKC,KAAZ,MAAuB,OAAvB;;AAGA,SAASC,IAAT,CAAcC,KAAd,EAAqB;AAEnB,QAAM;AAAEC,IAAAA,IAAF;AAAQC,IAAAA,YAAR;AAAqBC,IAAAA,cAArB;AAAqCC,IAAAA,aAArC;AAAoDC,IAAAA;AAApD,MAAoEL,KAA1E;AACA,QAAM,CAACM,WAAD,EAAcC,cAAd,IAAgCd,QAAQ,CAAC,EAAD,CAA9C;;AAEC,QAAMe,aAAa,GAAG,OAAOC,SAAP,EAAkBC,OAAlB,KAA8B;AAEnD,UAAMN,aAAa,CAACK,SAAD,EAAYC,OAAZ,CAAnB;AAEA,GAJD;;AAMDlB,EAAAA,SAAS,CAAC,MAAM;AAEd,UAAMmB,cAAc,GAAI,YAAY;AAClC,YAAMC,SAAS,GAAI,MAAMV,YAAY,EAArC;AACA,UAAIW,QAAQ,GAAG,EAAf;AACAD,MAAAA,SAAS,CAACE,OAAV,CAAkBC,CAAC,IAAIF,QAAQ,CAACG,IAAT,CAAc,EAAC,GAAGD,CAAC,CAACE,IAAF,EAAJ;AAAa,WAAG;AAACC,UAAAA,EAAE,EAACH,CAAC,CAACG;AAAN;AAAhB,OAAd,CAAvB;AACAX,MAAAA,cAAc,CAACM,QAAD,CAAd;AACD,KALD;AAMD,GARQ,EAQN,EARM,CAAT;AAYA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAGIP,WAAW,CAACa,GAAZ,CAAkBJ,CAAD,IAAO,oBAAC,OAAD;AAAS,IAAA,SAAS,EAAEP,aAApB;AAAmC,IAAA,kBAAkB,EAAEP,IAAI,CAACmB,QAAL,IAAiBvB,iBAAxE;AAA4F,IAAA,IAAI,EAAEI,IAAlG;AAAwG,IAAA,OAAO,EAAEc,CAAjH;AAAoH,IAAA,YAAY,EAAEV,YAAlI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAxB,CAHJ,CADF;AASD;;AAEDN,IAAI,CAACsB,SAAL,GAAiB;AACbC,EAAAA,QAAQ,EAAE5B,SAAS,CAAC6B,KAAV,CAAgBC,UADb;AAEbtB,EAAAA,YAAY,EAAER,SAAS,CAAC+B,MAAV,CAAiBD;AAFlB,CAAjB;AAKA,eAAezB,IAAf","sourcesContent":["import React, {useEffect, useState} from \"react\";\nimport PropTypes from \"prop-types\";\nimport DaysCompleted from \"../Components/DaysCompleted\";\nimport Product from \"../Components/Product\";\nimport avatarPlaceHolder from \"../assets/avatar_placeholder.png\"\nimport * as dayjs from 'dayjs';\n\n\nfunction Dash(props) {\n\n  const { user, readProducts,readChallenges, createComment, readComments} = props;\n  const [allProducts, setAllProducts] = useState([]);\n \n   const handleComment = async (productId, comment) => {\n    \n    await createComment(productId, comment);\n\n   }\n\n  useEffect(() => {\n\n    const getAllProducts =  async () => {\n      const aProducts =  await readProducts();\n      let products = [];\n      aProducts.forEach(c => products.push({...c.data(),...{id:c.id} }));\n      setAllProducts(products)\n    }\n  }, [])\n\n\n\n  return (\n    <div>\n      \n      {\n        allProducts.map( (c) => <Product onComment={handleComment} userProfilePicture={user.photoURL || avatarPlaceHolder}  user={user} checkin={c} readComments={readComments} />)\n      }\n      \n    </div>\n  );\n}\n\nDash.propTypes = {\n    checkins: PropTypes.array.isRequired,\n    readProducts: PropTypes.object.isRequired\n};\n\nexport default Dash;\n\n\n"]},"metadata":{},"sourceType":"module"}