{"ast":null,"code":"var _jsxFileName = \"/Users/gemma_curtis/Documents/UNI/contemp-web-app-solutions/src/Components/CheckinForm.js\";\nimport React, { useState, useEffect } from \"react\";\nimport PropTypes from 'prop-types';\nimport Tile from \"../Components/Tile\";\nimport styled from \"styled-components\";\nimport drinkIcon from \"../assets/drink-icon.svg\";\nimport foodIcon from \"../assets/food-icon.svg\";\nimport Button from \"../Components/Button\";\nimport ErrorLabel from \"../Components/ErrorLabel\";\nimport { useForm } from \"react-hook-form\";\nimport * as yup from \"yup\";\nconst StyledTile = styled(Tile).withConfig({\n  displayName: \"CheckinForm__StyledTile\",\n  componentId: \"d7lbk8-0\"\n})([\"display:grid;grid-template-columns:repeat(1,1fr);justify-content:center;grid-row-gap:20px;width:100%;\"]);\nconst StyledHeading = styled.h4.withConfig({\n  displayName: \"CheckinForm__StyledHeading\",\n  componentId: \"d7lbk8-1\"\n})([\"text-align:center;margin-top:2%;color:\", \";\"], ({\n  theme\n}) => theme.colors.purple);\nconst StyledLabel = styled.label.withConfig({\n  displayName: \"CheckinForm__StyledLabel\",\n  componentId: \"d7lbk8-2\"\n})([\"text-align:left;margin-top:5%;\"]);\nconst StyledForm = styled.form.withConfig({\n  displayName: \"CheckinForm__StyledForm\",\n  componentId: \"d7lbk8-3\"\n})([\"display:grid;justify-content:center;text-align:left;\"]);\nconst StyledCheckinP = styled.p.withConfig({\n  displayName: \"CheckinForm__StyledCheckinP\",\n  componentId: \"d7lbk8-4\"\n})([\"display:flex;font-size:13px;justify-content:space-around;margin-top:5%;input:nth-child(1){background:green;}input:checked{background-color:#a77e2d !important;color:#ffffff !important;}\"]);\nconst StyledFoodDrinkArea = styled.div.withConfig({\n  displayName: \"CheckinForm__StyledFoodDrinkArea\",\n  componentId: \"d7lbk8-5\"\n})([\"display:grid;grid-template-columns:1fr 1fr;grid-column-gap:10px;\"]);\nconst StyledSelect = styled.select.withConfig({\n  displayName: \"CheckinForm__StyledSelect\",\n  componentId: \"d7lbk8-6\"\n})([\"padding-left:25%;text-indent:40%;background:white;width:135px;height:44px;font-size:14px;color:rgba(31,32,65,0.75);\"]);\nconst StyledIcon = styled.img.withConfig({\n  displayName: \"CheckinForm__StyledIcon\",\n  componentId: \"d7lbk8-7\"\n})([\"margin-right:-10px;z-index:2000;display:relative;position:absolute;margin-top:10px;margin-left:6px;\"]);\nconst StyledCheckinTitle = styled.div.withConfig({\n  displayName: \"CheckinForm__StyledCheckinTitle\",\n  componentId: \"d7lbk8-8\"\n})([\"display:flex;justify-content:space-between;p{font-size:12px;color:\", \";margin-top:5%;}\"], ({\n  theme,\n  error\n}) => error ? \"red\" : theme.colors.darkShade[25]);\n\nconst CheckinForm = props => {\n  const {\n    onSubmit\n  } = props;\n  const [total, setTotal] = useState(0);\n  const maxCommentLength = 5;\n  const checkinFormSchema = yup.object().shape({\n    exercise: yup.string().required(\"you must tell us if you have exercised\"),\n    veg: yup.string().required(\"you must tell us if you consumed your veg\"),\n    water: yup.string().required(\"you must tell us if you drank 2l of water\"),\n    diet: yup.string().required(\"you must tell us if you kept tour diet\")\n  });\n  const {\n    register,\n    handleSubmit,\n    errors,\n    watch\n  } = useForm({\n    validationSchema: checkinFormSchema,\n    defaultValues: {\n      comment: \"\",\n      exercise: \"\",\n      veg: \"\",\n      water: \"\",\n      diet: \"\"\n    }\n  });\n  const comment = watch('comment');\n  const [remainingCommentCount, setRemainingCommentCount] = useState(maxCommentLength);\n  useEffect(() => {\n    setRemainingCommentCount(maxCommentLength - comment.length);\n  }, [comment]);\n  const formValues = watch();\n  let checkinScore = {\n    exercise: 0,\n    veg: 0,\n    water: 0,\n    diet: 0\n  };\n  useEffect(() => {\n    checkinScore.exercise = !formValues.exercise ? 0 : parseInt(formValues.exercise);\n    checkinScore.veg = !formValues.veg ? 0 : parseInt(formValues.veg);\n    checkinScore.water = !formValues.water ? 0 : parseInt(formValues.water);\n\n    if (formValues.diet !== \"\") {\n      checkinScore.diet = formValues.diet === \"0\" ? 10 - (parseInt(formValues.foodPen) + parseInt(formValues.drinkPen)) : parseInt(formValues.diet);\n    }\n\n    setTotal(checkinScore.exercise + checkinScore.veg + checkinScore.water + checkinScore.diet);\n  }, [formValues]);\n  const diet = watch(\"diet\");\n\n  const onFormSubmit = data => {\n    onSubmit({ ...data,\n      ...checkinScore,\n      ...{\n        total: total\n      }\n    });\n  };\n\n  return React.createElement(StyledForm, {\n    onSubmit: handleSubmit(onFormSubmit),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153\n    },\n    __self: this\n  }, React.createElement(StyledLabel, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155\n    },\n    __self: this\n  }, \"Did you exercise for at least 20 mins (5) ?\"), React.createElement(StyledCheckinP, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156\n    },\n    __self: this\n  }, \" \", React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"radio\",\n    value: \"5\",\n    name: \"exercise\",\n    ref: register,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159\n    },\n    __self: this\n  }), \" Yes\", \" \"), \" \", React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"radio\",\n    value: \"0\",\n    name: \"exercise\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162\n    },\n    __self: this\n  }), \" No\", \" \"), \" \"), React.createElement(ErrorLabel, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165\n    },\n    __self: this\n  }, \" \", errors.exercise && errors.exercise.message, \" \"), React.createElement(StyledLabel, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166\n    },\n    __self: this\n  }, \"Did you eat 5 portions of veg (3)?\"), React.createElement(StyledCheckinP, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"radio\",\n    value: \"3\",\n    name: \"veg\",\n    ref: register,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169\n    },\n    __self: this\n  }), \" Yes\"), React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"radio\",\n    value: \"0\",\n    name: \"veg\",\n    ref: register,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172\n    },\n    __self: this\n  }), \" No\")), React.createElement(ErrorLabel, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175\n    },\n    __self: this\n  }, \" \", errors.veg && errors.veg.message, \" \"), React.createElement(StyledLabel, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176\n    },\n    __self: this\n  }, \"Did you drink 2l of water (2)?\"), React.createElement(StyledCheckinP, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"radio\",\n    value: \"2\",\n    name: \"water\",\n    ref: register,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179\n    },\n    __self: this\n  }), \" Yes\"), React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"radio\",\n    value: \"0\",\n    name: \"water\",\n    ref: register,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182\n    },\n    __self: this\n  }), \" No\")), React.createElement(ErrorLabel, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185\n    },\n    __self: this\n  }, \" \", errors.water && errors.water.message, \" \"), React.createElement(StyledLabel, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187\n    },\n    __self: this\n  }, \"Was Your Diet Perfect (10)?\"), React.createElement(StyledCheckinP, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"radio\",\n    value: \"10\",\n    name: \"diet\",\n    ref: register,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190\n    },\n    __self: this\n  }), \" Yes\"), React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"radio\",\n    value: \"0\",\n    name: \"diet\",\n    ref: register,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193\n    },\n    __self: this\n  }), \" No\")), React.createElement(ErrorLabel, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196\n    },\n    __self: this\n  }, \" \", errors.diet && errors.diet.message, \" \"), diet === \"0\" && React.createElement(StyledFoodDrinkArea, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199\n    },\n    __self: this\n  }, React.createElement(StyledLabel, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200\n    },\n    __self: this\n  }, \"Drinks\"), React.createElement(StyledLabel, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201\n    },\n    __self: this\n  }, \"Food\"), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202\n    },\n    __self: this\n  }, React.createElement(StyledIcon, {\n    src: drinkIcon,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203\n    },\n    __self: this\n  }), React.createElement(StyledSelect, {\n    name: \"drinkPen\",\n    ref: register,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204\n    },\n    __self: this\n  }, React.createElement(\"option\", {\n    value: \"0\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205\n    },\n    __self: this\n  }, \" 0 \"), React.createElement(\"option\", {\n    value: \"1\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206\n    },\n    __self: this\n  }, \" 1 \"), React.createElement(\"option\", {\n    value: \"2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207\n    },\n    __self: this\n  }, \" 2 \"), React.createElement(\"option\", {\n    value: \"3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208\n    },\n    __self: this\n  }, \" 3 \"), React.createElement(\"option\", {\n    value: \"4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209\n    },\n    __self: this\n  }, \" 4 \"), React.createElement(\"option\", {\n    value: \"5\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210\n    },\n    __self: this\n  }, \" 5 \"))), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213\n    },\n    __self: this\n  }, React.createElement(StyledIcon, {\n    src: foodIcon,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214\n    },\n    __self: this\n  }), React.createElement(StyledSelect, {\n    name: \"foodPen\",\n    ref: register,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215\n    },\n    __self: this\n  }, React.createElement(\"option\", {\n    value: \"0\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216\n    },\n    __self: this\n  }, \" 0 \"), React.createElement(\"option\", {\n    value: \"1\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217\n    },\n    __self: this\n  }, \" 1 \"), React.createElement(\"option\", {\n    value: \"2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218\n    },\n    __self: this\n  }, \" 2 \"), React.createElement(\"option\", {\n    value: \"3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219\n    },\n    __self: this\n  }, \" 3 \"), React.createElement(\"option\", {\n    value: \"4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220\n    },\n    __self: this\n  }, \" 4 \"), React.createElement(\"option\", {\n    value: \"5\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221\n    },\n    __self: this\n  }, \" 5 \")))), React.createElement(StyledCheckinTitle, {\n    error: remainingCommentCount < 0,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227\n    },\n    __self: this\n  }, React.createElement(StyledLabel, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228\n    },\n    __self: this\n  }, \"Comment\"), \" \", React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228\n    },\n    __self: this\n  }, remainingCommentCount), \" \"), React.createElement(\"textarea\", {\n    rows: \"4\",\n    cols: \"40\",\n    name: \"comment\",\n    ref: register,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230\n    },\n    __self: this\n  }), React.createElement(StyledHeading, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231\n    },\n    __self: this\n  }, \" Total: \", total, \" points \"), React.createElement(Button, {\n    text: \"CHECKIN\",\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232\n    },\n    __self: this\n  }, \" \"));\n};\n\nCheckinForm.propTypes = {\n  onSubmit: PropTypes.func.isRequired\n};\nexport default CheckinForm;","map":{"version":3,"sources":["/Users/gemma_curtis/Documents/UNI/contemp-web-app-solutions/src/Components/CheckinForm.js"],"names":["React","useState","useEffect","PropTypes","Tile","styled","Button","ErrorLabel","useForm","yup","StyledTile","StyledHeading","h4","theme","colors","purple","StyledLabel","label","StyledForm","form","StyledCheckinP","p","StyledFoodDrinkArea","div","StyledSelect","select","StyledIcon","img","StyledCheckinTitle","error","darkShade","CheckinForm","props","onSubmit","total","setTotal","maxCommentLength","checkinFormSchema","object","shape","exercise","string","required","veg","water","diet","register","handleSubmit","errors","watch","validationSchema","defaultValues","comment","remainingCommentCount","setRemainingCommentCount","length","formValues","checkinScore","parseInt","foodPen","drinkPen","onFormSubmit","data","message","drinkIcon","foodIcon","propTypes","func","isRequired"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport PropTypes from 'prop-types';\nimport Tile from \"../Components/Tile\";\nimport styled from \"styled-components\";\n\nimport drinkIcon from \"../assets/drink-icon.svg\";\nimport foodIcon from \"../assets/food-icon.svg\";\nimport Button from \"../Components/Button\";\nimport ErrorLabel from \"../Components/ErrorLabel\";\nimport { useForm } from \"react-hook-form\";\nimport * as yup from \"yup\";\n\nconst StyledTile = styled(Tile)`\n  display: grid;\n  grid-template-columns: repeat(1, 1fr);\n  justify-content: center;\n  grid-row-gap: 20px;\n  width: 100%;\n`;\n\nconst StyledHeading = styled.h4`\n  text-align: center;\n  margin-top: 2%;\n  color: ${({ theme }) => theme.colors.purple};\n`;\n\nconst StyledLabel = styled.label`\n  text-align: left;\n  margin-top: 5%;\n`;\n\nconst StyledForm = styled.form`\n  display: grid;\n  justify-content: center;\n  text-align: left;\n`;\nconst StyledCheckinP = styled.p`\n  display: flex;\n  font-size: 13px;\n  justify-content: space-around;\n  margin-top: 5%;\n  input:nth-child(1) {\n    background: green;\n  }\n\n  input:checked {\n    background-color: #a77e2d !important;\n    color: #ffffff !important;\n  }\n`;\n\nconst StyledFoodDrinkArea = styled.div`\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  grid-column-gap: 10px;\n`;\n\nconst StyledSelect = styled.select`\n  padding-left: 25%;\n  text-indent: 40%;\n  background: white;\n  width: 135px;\n  height: 44px;\n  font-size: 14px;\n  color: rgba(31, 32, 65, 0.75);\n`;\n\nconst StyledIcon = styled.img`\n  margin-right: -10px;\n  z-index: 2000;\n  display: relative;\n  position: absolute;\n  margin-top: 10px;\n  margin-left: 6px;\n`;\n\nconst StyledCheckinTitle = styled.div`\n  display: flex;\n  justify-content: space-between;\n  p {\n    font-size: 12px;\n    color:  ${({ theme, error}) => error ? \"red\" : theme.colors.darkShade[25]};\n    margin-top: 5%;\n  }\n`;\n\nconst CheckinForm = props => {\n\n  const {onSubmit} = props;\n  const [total, setTotal] = useState(0);\n\n  const maxCommentLength = 5; \n  \n\n\n  const checkinFormSchema = yup.object().shape({\n    exercise: yup.string().required(\"you must tell us if you have exercised\"),\n    veg: yup.string().required(\"you must tell us if you consumed your veg\"),\n    water: yup.string().required(\"you must tell us if you drank 2l of water\"),\n    diet: yup.string().required(\"you must tell us if you kept tour diet\")\n  });\n\n  const { register, handleSubmit, errors, watch } = useForm({\n    validationSchema: checkinFormSchema,\n    defaultValues: {comment: \"\", exercise: \"\", veg: \"\", water: \"\", diet: \"\"}\n  });\n\n  const comment = watch('comment');\n\n  const [remainingCommentCount, setRemainingCommentCount] = useState(maxCommentLength);\n\n\n  useEffect(() => {\n    \n      setRemainingCommentCount(maxCommentLength - comment.length);\n  \n  }, [comment])\n\n   const formValues = watch();\n   let checkinScore = {\n      exercise: 0,\n      veg: 0,\n      water: 0,\n      diet: 0\n   }\n\n   useEffect(() => {\n\n    checkinScore.exercise = !formValues.exercise ? 0 : parseInt(formValues.exercise);\n    checkinScore.veg = !formValues.veg ? 0 : parseInt(formValues.veg);\n    checkinScore.water = !formValues.water ? 0 : parseInt(formValues.water);\n\n    if (formValues.diet !== \"\") {\n       \n      checkinScore.diet = formValues.diet === \"0\" ? 10 - (parseInt(formValues.foodPen) + parseInt(formValues.drinkPen)) : parseInt(formValues.diet);\n\n    }\n    \n    setTotal(checkinScore.exercise + checkinScore.veg + checkinScore.water + checkinScore.diet);\n    \n\n   }, [formValues])\n\n\n\n  const diet = watch(\"diet\");\n\n  const onFormSubmit = data => {\n    onSubmit({...data, ...checkinScore, ...{total:total}});\n  };\n\n  return (\n    <StyledForm onSubmit={handleSubmit(onFormSubmit)}>\n      {/*JSON.stringify(\"this is the\" + diet)*/}\n      <StyledLabel>Did you exercise for at least 20 mins (5) ?</StyledLabel>\n      <StyledCheckinP>\n        {\" \"}\n        <span>\n          <input type=\"radio\" value=\"5\" name=\"exercise\" ref={register} /> Yes{\" \"}\n        </span>{\" \"}\n        <span>\n          <input type=\"radio\" value=\"0\" name=\"exercise\" /> No{\" \"}\n        </span>{\" \"}\n      </StyledCheckinP>\n      <ErrorLabel> {errors.exercise && errors.exercise.message} </ErrorLabel>\n      <StyledLabel>Did you eat 5 portions of veg (3)?</StyledLabel>\n      <StyledCheckinP>\n        <span>\n          <input type=\"radio\" value=\"3\" name=\"veg\" ref={register} /> Yes\n        </span>\n        <span>\n          <input type=\"radio\" value=\"0\" name=\"veg\" ref={register} /> No\n        </span>\n      </StyledCheckinP>\n      <ErrorLabel> {errors.veg && errors.veg.message} </ErrorLabel>\n      <StyledLabel>Did you drink 2l of water (2)?</StyledLabel>\n      <StyledCheckinP>\n        <span>\n          <input type=\"radio\" value=\"2\" name=\"water\" ref={register} /> Yes\n        </span>\n        <span>\n          <input type=\"radio\" value=\"0\" name=\"water\" ref={register} /> No\n        </span>\n      </StyledCheckinP>\n      <ErrorLabel> {errors.water && errors.water.message} </ErrorLabel>\n\n      <StyledLabel>Was Your Diet Perfect (10)?</StyledLabel>\n      <StyledCheckinP>\n        <span>\n          <input type=\"radio\" value=\"10\" name=\"diet\" ref={register} /> Yes\n        </span>\n        <span>\n          <input type=\"radio\" value=\"0\" name=\"diet\" ref={register} /> No\n        </span>\n      </StyledCheckinP>\n      <ErrorLabel> {errors.diet && errors.diet.message} </ErrorLabel>\n\n      {diet === \"0\" && (\n        <StyledFoodDrinkArea>\n          <StyledLabel>Drinks</StyledLabel>\n          <StyledLabel>Food</StyledLabel>\n          <div>\n            <StyledIcon src={drinkIcon}  />\n            <StyledSelect name=\"drinkPen\" ref={register}>\n              <option value=\"0\"> 0 </option>\n              <option value=\"1\"> 1 </option>\n              <option value=\"2\"> 2 </option>\n              <option value=\"3\"> 3 </option>\n              <option value=\"4\"> 4 </option>\n              <option value=\"5\"> 5 </option>\n            </StyledSelect>\n          </div>\n          <div>\n            <StyledIcon src={foodIcon} />\n            <StyledSelect name=\"foodPen\" ref={register}>\n              <option value=\"0\"> 0 </option>\n              <option value=\"1\"> 1 </option>\n              <option value=\"2\"> 2 </option>\n              <option value=\"3\"> 3 </option>\n              <option value=\"4\"> 4 </option>\n              <option value=\"5\"> 5 </option>\n            </StyledSelect>\n          </div>\n        </StyledFoodDrinkArea>\n      )}\n\n      <StyledCheckinTitle  error={remainingCommentCount < 0} >\n      <StyledLabel>Comment</StyledLabel> <p>{remainingCommentCount}</p>{\" \"}\n      </StyledCheckinTitle>\n      <textarea rows=\"4\" cols=\"40\" name=\"comment\" ref={register}></textarea>\n      <StyledHeading> Total: {total} points </StyledHeading>\n      <Button text=\"CHECKIN\" type=\"submit\"> </Button>\n    </StyledForm>\n  );\n};\n\nCheckinForm.propTypes = {\n\n  onSubmit: PropTypes.func.isRequired\n\n};\n\nexport default CheckinForm;\n"]},"metadata":{},"sourceType":"module"}